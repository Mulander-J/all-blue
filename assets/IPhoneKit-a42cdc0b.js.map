{"version":3,"file":"IPhoneKit-a42cdc0b.js","sources":["../../src/stories/1blog/IPhoneKit.mdx"],"sourcesContent":["import { Meta, Story, Controls } from '@storybook/blocks';\nimport * as Iphone2d from \"../@reproduce/IPhone2d/index.stories\";\n\n<Meta />\n\n# iPhone12 色系搭配工具\n> `css3d` `css变量`\n\n小屏党新年计划入手iphone12mini，顺手撸了个颜色搭配器（非自动）来方便配色。\n\n**配色范围**\n- 主色\n- 侧边色\n- 镜头块色\n- 镜头边框色\n- logo色\n\n## 预览\n<Story of={Iphone2d.Preview} />\n<Controls of={Iphone2d.Preview} />\n\n## 技术点\n\n### 三维建模\n所谓 `css3d` , 其本质是在利用2维元素去拼装3维形态。操作的对象仍然是2维的平面的盒子模型，即只有长（width）宽（height），没有高。\n\n如果把手机模型视为一个矩形，那么拼装一部手机至少需要6个平面（上下左右前后）。\n\n![透视图](./imgs/20210218000001.png)\n\n```html\n<div class=\"iphone-device\">\n    <!-- 前 -->\n    <div class=\"iphone-front\"></div>\n    <!-- 后 -->\n    <div class=\"iphone-back\"></div>\n    <!-- 侧边-左 -->\n    <div class=\"iphone-left iphone-side\"></div>\n        <!-- 侧边-右 -->\n    <div class=\"iphone-right iphone-side\"></div>\n        <!-- 侧边-上 -->\n    <div class=\"iphone-top iphone-side\"></div>\n        <!-- 侧边-下 -->\n    <div class=\"iphone-bottom iphone-side\"></div>\n</div>\n```\n\n设模型长宽高分别为：\n- l:508px;\n- w:239.99952px;\n- h:30px;\n\nTransform：\n- 前后两面分别以Y轴旋转0度与180度，并增加z轴距离为1/2h。\n- 左右两面分别以Y轴旋转-90度与90度，并增加z轴距离为1/2h 和 w-1/2h。\n- 上面先以Y轴90度，再以Z轴旋转-90度；下面先以Y轴-90度，再以Z轴旋转-90度，并增加z轴距离为l\n\n![前后](./imgs/20210218000002.jpg)\n\n![左右](./imgs/20210218000003.jpg)\n\n![上下](./imgs/20210218000004.jpg)\n\n### 圆角欺骗\n\n上一步构建的模型是个纯粹的矩形，那么如何实现3d圆角呢？因为我们依旧是在编辑平面元素，对于曲面的绘制无法像3d建模一样利用算法实现无数个线平面拼凑成一个曲面。\n但是，我们可以用两个切面的角度来形成视觉欺骗，以达到曲面的效果。\n\n![圆角](./imgs/20210218000005.jpg)\n\n\n### css变量\n模型完成之后，紧接着就是配色了，配色技术依然是老生常谈的 `css变量`。在根元素上申明所有的颜色变量，对应子元素以 `var(--x)` 的形式引用。\n\n在Vue中，则利用 `props` 和 `computed` 属性来完成对象封装。\n\n```css\n .iphone-perspective {\n    ...\n    --main: #bf2a2a;\n    --side: #ede9e8;\n    --cam: #bf2a2a;\n    --camRing: #ede9e8;\n    --logo: #ede9e8;\n    --dur: 12s;\n}\n.iphone-front-s,\n.iphone-back-s,\n.iphone-front,\n.iphone-back {\n    ...\n    background: var(--side);\n}\n.iphone-brand svg{\n    ...\n    color: var(--logo);\n}\n```\n\n## Issue\n\n- 侧边的按钮实际应该与主色配色一致，代码中是懒得画了直接切的图。\n- 为了补偿圆角的冗余部分配色，前后各自增加了一个背面用来填色，从而导致了模型在旋转时会出现穿模的现象。\n\n## Refrence\n\n技术链接\n- [13 Pure CSS Mobile Devices.css](http://marvelapp.github.io/devices.css/)\n- [Tridiv is a web-based editor for creating 3D shapes in CSS.](http://tridiv.com/)\n- [apple-iphone-12-mini-3d](https://www.turbosquid.com/zh_cn/3d-models/apple-iphone-12-mini-3d-1642901)\n- [CSS 变量教程](http://www.ruanyifeng.com/blog/2017/05/css-variables.html)\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Story","Iphone2d.Preview","Controls","MDXContent","MDXLayout"],"mappings":"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"}