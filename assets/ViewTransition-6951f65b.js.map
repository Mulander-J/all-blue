{"version":3,"file":"ViewTransition-6951f65b.js","sources":["../../src/stories/1blog/ViewTransition.mdx"],"sourcesContent":["import { Meta, Story } from \"@storybook/blocks\";\nimport * as ToggleTheme from '../@reproduce/ToggleTheme/index.stories';\n\n<Meta  />\n\n# View Transition API\n\n> [原文-View Transition API](https://juejin.cn/post/7255675484938256441?searchId=20230731102212FA6F91F510A0FD9480C4)\n\n## Why View Transition API\n\nTransition 指的是 UI 层面的状态过渡，恰当的过渡效果能带给用户舒适感，提升产品的品质。\n\n一般来说，我们有三种方式可以实现过渡动效：\n- CSS Transition\n- CSS Animation\n- Web Animation API\n\n而能让我们轻松应对中间态的，正是 View Transition API。\n\n## Know View Transition API\n\nView Transition API 带来的新知识并不多：\n\nJavaScript 方法与属性\n\n```\nstartViewTransition()\n/.updateCallbackDone\n/.ready\n/.finished\nskipTransition()\n```\n\nCSS 规则和伪元素\n\n```\nview-transition-name\n::view-transition\n::view-transition-group()\n::view-transition-image-pair()\n::view-transition-old()\n::view-transition-new()\n```\n\n### startViewTransition\n\n开启 View Transition 动效，只需要一行代码：\n```js\nconst vt = document.startViewTransition(updateCallback);\n```\n\n`startViewTransition` 方法接收一个回调函数作为参数，在回调函数 `updateCallback` 里，我们执行变更 `DOM` 状态的逻辑，比如切换页面路由、更新页面内容等。\n\n调用 `startViewTransition` 后，我们会得到一个实例对象, 实例对象具有三个属性，分别代表过渡过程中的三个状态节点：\n\n- `updateCallbackDone`：回调函数执行完毕\n- `ready`：准备就绪，即将开始播放动效\n- `finished`：动效播放完毕\n\n这三个属性值都是 Promise 对象，这就方便了我们精细掌控动效过程。\n\n```js\nawait vt.updateCallbackDone;\n// Do whatever you want\nawait vt.ready;\n// Do whatever you want\nawait vt.finished;\n// Do whatever you want\n```\n\ne.g. Click to ToggleTheme\n\n<Story of={ToggleTheme.Preview} />\n\n### skipTransition\n\n实例对象还具有一个方法，可以跳过动效过程。\n\n```js\nvt.skipTransition();\n```\n\n需要指出的是，调用 `skipTransition` 只会跳过动效，但 `updateCallback` 仍会正常执行。这正是 View Transition API 的设计理念：锦上添花，不喧宾夺主。\n\n另外，在不同的状态节点调用 `skipTransition`，效果也不同。\n\n### view-transition-name\n\nAPI 在 CSS 规则中新增了一个属性 view-transition-name，该属性可以应用于任何元素，属性值也可以是任何不重复的字符串名称。\n\n```CSS\n.box {\n  view-transition-name: box;\n}\n```\n\n对于设置了 `view-transition-name` 的元素，浏览器会将其识别为需要应用过渡动效的元素。\n\n在缺省情况下，浏览器会给根节点 —— html 节点 —— 隐式地设置为 view-transition-name: root;。\n\n### 伪元素树\n\n当浏览器识别到了动效的目标元素，就会针对目标生成一系列伪元素，构建成树形结构，插入到 html 第一个子节点的位置上。\n\n伪元素树的 `z-index` 层级是最高的，覆盖在所有其他元素之上。这确保了在过渡过程中，页面是不可交互的。\n\n如果页面中有多个元素都设置了 `view-transition-name`，那么在树根 `::view-transition` 之下，就会出现多个 `::view-transition-group` ，与 `root group` 平级。\n\n## 原理 & 生命周期\n\n### 1.startViewTransition\n一段生命周期的起始，源自于我们调用 startViewTransition。\n### 2. 抓拍旧状态快照\n在 DOM 状态变化前，浏览器抓拍一张旧状态的快照。我们可以理解为，浏览器帮我们截了一张图。\n### 3. 暂停渲染\n此时，浏览器会暂停页面渲染，updateCallback 引发的页面变化，要等到动效执行时才会显现出来。\n### 4. 执行 updateCallback\n到这里，我们的回调函数会执行，更新 DOM 状态。当然从用户的视角，是看不见变化的。\n### 5. updateCallbackDone\n回调执行完毕，实例对象的 updateCallbackDone 状态达成。\n### 6. 抓拍新状态快照\n浏览器抓拍新 DOM 状态的快照，同样地，也可以理解为截一张图，但这张图是直接对照新状态绘制的，并不是页面显现的内容。\n### 7. 构建伪元素树\n利用刚刚生成的两张快照，浏览器创建一系列伪元素，插入到 html 节点中。旧、新快照，对应着上文提到的两个伪元素：::view-transition-old、::view-transition-new。\n### 8. 恢复渲染\n伪元素应有尽有，就可以恢复页面渲染、将伪元素显示在页面上了。\n### 9. ready\n万事俱备，Transition 的 ready 状态达成。\n### 10. 播放动效\n浏览器安排新旧快照两个“演员”登台，导演一场从旧状态到新状态的过渡效果。\n### 11. 移除伪元素\n动效演出落幕，“演员”退场，浏览器把伪元素移除。\n### 12、 finished 状态达成\n在 [W3C 标准文档](https://drafts.csswg.org/css-view-transitions-1/#lifecycle) 中，有一个步进式 Demo，可以帮我们更直观地了解生命周期的每个阶段。\n\n## 最佳实践\n由于 View Transition API 还是新鲜出炉的功能，所以在使用过程中，还是有一些需要注意之处。\n\n### 1. 平稳降级\n当前只有 Chrome/Edge 111+ 支持 View Transition API，所以我们需要兼顾浏览器差异。\n```js\nif (!document.startViewTransition) {\n    updateCallback();\n    return;\n}\ndocument.startViewTransition(updateCallback);\n```\n### 2. 精简 updateCallback\n在过渡过程中，由于页面不可交互，所以这一阶段的时长要可控。\n```js\n// Bad ❌\ndocument.startViewTransition(async () => {\n    await fetchLargeFile();\n    await changeDOM();\n    await doSomething();\n});\n```\n在上面的代码示例中，`updateCallback` 要等到大文件加载完才能执行。结合上文提及的生命周期阶段可知，此时页面停止渲染，用户将会看到一个卡死的页面。\n\n因此，我们要将有可能阻塞过渡过程的逻辑，移到 `updateCallback` 之外。\n\n### 3. 防止重名\n在页面中，如果有多个元素的 `view-transition-name` 的值相同，浏览器会自动跳过这些元素的过渡动效，因此要保证同一时刻下，DOM 中每个 `view-transition-name` 仅对应唯一的元素\n\n### 4. 防止状态中断\n\n`view-transition-name` 重名导致动效被跳过，因此 Transition 的 `ready` 状态也就永远无法达到。\n\n这种情况下，我们预期在 ready 状态后执行的一些逻辑，就不能得以执行，比如：\n\n```css\n.box {\n    view-transition-name: box;\n}\n.spot {\n    view-transition-name: box;\n}\n```\n\n```js\n// Bad ❌\nconst vt = document.startViewTransition(updateCallback);\nawait vt.ready;\ndoSomething(); // Never run.\n```\n\n```js\n// Good ✅\nconst vt = document.startViewTransition(updateCallback);\ntry {\n    await vt.ready;\n}\n\ndoSomething();\n```\n\n### 5. 仅限 SPA\n\n在单页应用（SPA）中，我们可以用 View Transition API 去处理路由切换的过渡，但在跨页面应用（MPA）的路由切换中，由于新状态承载于新页面，也就是新的 document 对象，所以过渡效果无法跨过页面之间的阻隔。\n不过，在 View Transition API 的最初设想中，作者们是有计划支持 MPA 的。"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Meta","Story","ToggleTheme.Preview","MDXContent","MDXLayout"],"mappings":"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"}