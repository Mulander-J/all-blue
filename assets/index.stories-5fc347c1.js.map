{"version":3,"file":"index.stories-5fc347c1.js","sources":["../../src/stories/@animation/TripleNav/TripleNav.svelte"],"sourcesContent":["<script>\n  import \"./index.scss\";\n  import { onMount } from \"svelte\";\n\n  /**\n   * @type {string} Animation Type\n   */\n  export let animation = \"static\";\n  // static|shadow|slide\n\n  /**\n   * @type {number} Menu Count\n   */\n  export let count = 3;\n\n  let navName = 0;\n  let isChanged = false;\n  let markerElement;\n\n  /**\n   * The length of menu\n   */\n  $: menus = new Array(count || 1).fill(null).map((_, i) => `Nav_${i}`);\n  /**\n   * wheather show Indicator\n   */\n  $: showIndicator = animation !== \"static\";\n  /**\n   * wheather show Indicators\n   */\n  $: showIndicators = animation !== \"slide\";\n\n  const changeNav = (event, name) => {\n    navName = name;\n    isChanged = !isChanged; // equals markerElement.classList.toggle('changing');\n    showIndicator && animateNav(event.target);\n  };\n\n  const animateNav = (target) => {\n    if (!target || !markerElement) return;\n    markerElement.style.left = target.offsetLeft + \"px\";\n    markerElement.style.width = target.offsetWidth + \"px\";\n    markerElement.style.filter = \"hue-rotate(\" + Math.random() * 360 + \"deg)\";\n  };\n\n  onMount(() => {\n    // init default offset\n    showIndicator &&\n      markerElement &&\n      animateNav(markerElement?.parentElement?.children?.[navName]);\n  });\n</script>\n\n<nav>\n  {#each menus as m, i}\n    <li\n      class:active={i === navName}\n      on:click={(e) => changeNav(e, i)}\n      role=\"none\"\n    >\n      {m}\n      {#if showIndicators}\n        <div class=\"indicators\" class:isChanged class:hidden={i !== navName} />\n      {/if}\n    </li>\n  {/each}\n  {#if showIndicator}\n    <div class=\"indicator\" class:isChanged bind:this={markerElement} />\n  {/if}\n</nav>\n"],"names":["toggle_class","div","ctx","insert","target","anchor","create_if_block_1","li","set_data","t0","t0_value","i","create_if_block","nav","animation","$$props","count","navName","isChanged","markerElement","changeNav","event","name","$$invalidate","showIndicator","animateNav","onMount","_b","_a","click_handler","e","$$value","menus","_","showIndicators"],"mappings":"uVA8D8DA,EAAAC,EAAA,SAAAC,QAAMA,EAAO,CAAA,CAAA,UAAnEC,EAAuEC,EAAAH,EAAAI,CAAA,0CAAjBL,EAAAC,EAAA,SAAAC,QAAMA,EAAO,CAAA,CAAA,wCAFpEA,EAAC,EAAA,EAAA,aACGA,EAAc,CAAA,GAAAI,EAAAJ,CAAA,yGALLF,EAAAO,EAAA,SAAAL,QAAMA,EAAO,CAAA,CAAA,UAD7BC,EASKC,EAAAG,EAAAF,CAAA,oFAJFH,EAAC,EAAA,EAAA,KAAAM,GAAAC,EAAAC,CAAA,EACGR,EAAc,CAAA,gEALLF,EAAAO,EAAA,SAAAL,QAAMA,EAAO,CAAA,CAAA,qIAW7BC,EAAmEC,EAAAH,EAAAI,CAAA,qGAb9DH,EAAK,CAAA,CAAA,uBAAV,OAAIS,GAAA,yBAYDT,EAAa,CAAA,GAAAU,EAAAV,CAAA,oFAbpBC,EAgBMC,EAAAS,EAAAR,CAAA,iGAfGH,EAAK,CAAA,CAAA,oBAAV,OAAIS,GAAA,EAAA,8GAAJ,OAYGT,EAAa,CAAA,gIA3DP,CAAA,UAAAY,EAAY,QAAQ,EAAAC,EAMpB,CAAA,MAAAC,EAAQ,CAAC,EAAAD,EAEhBE,EAAU,EACVC,EAAY,GACZC,QAeEC,EAAS,CAAIC,EAAOC,IAAI,CAC5BC,EAAA,EAAAN,EAAUK,CAAI,EACdC,EAAA,EAAAL,GAAaA,CAAS,EACtBM,GAAiBC,EAAWJ,EAAM,MAAM,GAGpCI,EAAcrB,GAAM,CACnB,CAAAA,IAAWe,QAChBA,EAAc,MAAM,KAAOf,EAAO,WAAa,KAAIe,CAAA,MACnDA,EAAc,MAAM,MAAQf,EAAO,YAAc,KAAIe,CAAA,EACrDI,EAAA,EAAAJ,EAAc,MAAM,OAAS,cAAgB,KAAK,OAAM,EAAK,IAAM,OAAMA,CAAA,IAG3EO,EAAO,IAAA,SAELF,GACEL,GACAM,GAAWE,GAAAC,EAAAT,GAAA,YAAAA,EAAe,gBAAf,YAAAS,EAA8B,WAA9B,YAAAD,EAAyCV,EAAO,IAQhD,MAAAY,EAAA,CAAAlB,EAAAmB,IAAMV,EAAUU,EAAGnB,CAAC,4CAUiBQ,EAAaY,oIA7C9DC,EAAK,IAAO,MAAMhB,GAAS,CAAC,EAAE,KAAK,IAAI,EAAE,IAAG,CAAEiB,EAAGtB,WAAaA,CAAC,EAAA,CAAA,kBAI/DY,EAAA,EAAAC,EAAgBV,IAAc,QAAQ,kBAItCS,EAAA,EAAAW,EAAiBpB,IAAc,OAAO;;;;;;;;;;;;;;;;;"}